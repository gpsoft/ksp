# 抽象化

抽象化とは、具体的なものを抽象的に変えることです。「抽象的」と言うと「分かりにくい」を連想するかもしれませんが、プログラミングの世界では少し違います。プログラムは、コンピュータ(CPU)に命令を与えるためのものなので、生まれつき、かなり具体的です。具体的すぎるくらいなので、少し抽象化した方が、人間に理解しやすくなったり、汎用性が上がるのです。

## 名前

抽象化の代表例は、「名前を付けること」です。

- データに名前を付ければ、定数や変数になる
- 処理に名前を付ければ、関数になる

例を挙げましょう(ちなみに「例を挙げる」というのは具体化するってことなので、このセリフが出たときは抽象的な分かりにくい話しをしてるサインです)。

```
const TAX_RATE = 0.1;
```

`0.1`という具体的なデータに、`TAX_RATE`という名前を付けました。これが抽象化です。このあと、プログラムの中で「税率」が必要なときは、直接`0.1`と書く代わりに`TAX_RATE`と書くことができます。その方が、意図が伝わりやすいですよね。

もう一つ例を挙げます。

```
print(100 * 5 * (1 + TAX_RATE));
```

何かを計算して表示しているのですが、何だか分かりますか? これは、100円ショップで、5つの商品を購入したときの支払額です。この計算処理を、関数を使って抽象化してみましょう。

```
function calcPayment() {
  return 100 * 5 * (1 + TAX_RATE);
}
```

計算処理に`calcPayment()`という名前を付けました。この名前を使って、さっきの`print()`を書き直してみます。

```
print(calcPayment());
```

こう書けば、いちいち式を読み解く必要なく、支払額を計算しているということが分かりますね。

## 関数

先程の`calcPayment()`には、ちょっと問題がありますね。1個しか買わないときや、高額商品には使えないのです。そこで、`100`とか`5`のような「変化するデータ」にも名前を付けましょう。

```
function calcPayment(price, quantity) {
  return price * quantity * (1 + TAX_RATE);
}
```

「100円の商品を5個買うときの支払額を計算する」から、「ある単価の商品を、ある個数買うときの支払額を計算する」に変わりました。更に抽象度が上がりましたね。それと同時に、汎用性も上がっています。単価や個数のような「変化するデータ」は、関数を使うときに決まります。

```
print(calcPayment(100, 5));   // 100円の商品を5個
print(calcPayment(300, 1));   // 300円の商品を1個
```

- - -

抽象化には、「具体を隠す」という面もあります。例えばタクシー料金を計算する関数があったとしましょう。

```
function calcTaxiFare(from, to) {
  return ...           // 特殊な式
}
```

この関数を使うときは、出発地(`from`)と目的地(`to`)だけを決めればOKです。実際は、所要時間や乗車時刻も加味した特殊な式により算出されるわけですが、その部分は「(使う側が)知る必要のない具体」として隠されています。これにより、もしこの特殊な式を変えることになったとしても、使う側には影響しない、という効果が得られます。
