# プログラムの種類

## 「プログラムが動く」とは?

プログラムはコンピュータ上で動きます。『「○○上」で動く』と表現する理由は、あなたのプログラムが動くのを「○○」が下で支えてくれているからです。

ここで言う「コンピュータ」は、突き詰めれば、CPUのようなハードウェアのことです。プログラムはCPU上で動きます。

しかし実のところ、あなたのプログラムとハードウェアの間では、他にもいろいろなソフトウェアが動いている場合が多いです。例えばOS、仮想マシン、フレームワークなどです。これらも、あなたのプログラムが動くのを支えてくれています。よって、プログラムはWindows(OS)上で動くとか、プログラムはJavaVM(仮想マシン)上で動く、プログラムはRuby on Rails(フレームワーク)上で動く、などと言うこともできます。

## ソフトウェア階層

このように、プログラムの中には、「上で動く」ものと、「下で支える」ものがあります。3つ以上の連鎖になる場合も多いです(AがBを支え、BがCを支え、Cの上でDが動く)。

砂や土が重なって地層を作るように、ソフトウェアも階層(レイヤ)構造を形成します。この階層の一番上で動くプログラムを特に、アプリケーション(あるいは、単にアプリ)と呼びます。

## どこで動くか

アプリにも、いろんな種類があります。どこで動くかを基準にアプリを分類してみましょう。

- デスクトップアプリ
- コマンドラインアプリ
- Webアプリ
- モバイルアプリ
- その他

### デスクトップアプリ

オーソドックスに、WindowsやmacOSなどのパソコン用OS上で動くアプリのことをデスクトップアプリと呼びます。ChromeやFirefox、Visual Studio Code、Eclipse、Photoshopなどが一例です。ショートカットアイコンをダブルクリックして起動します。

デスクトップアプリは、GUI(Graphical User Interface)を持ちます。ウィンドウを表示したりマウスでクリックしてもらいながら、ユーザとインタラクションします。

### コマンドラインアプリ

ターミナル上で動くアプリのことをコマンドラインアプリとかコンソールアプリ、ターミナルアプリと呼びます。ターミナルにコマンドを打ち込むことにより起動します。

コマンドラインアプリは原則としてGUIを持たず、ターミナルに文字を表示したり文字を入力してもらいながら、ユーザとインタラクションします。GUIと対比させて、CUI(Character User Interface)とかCLI(Command Line Interface)と呼んだりもします。

### Webアプリ

Webアプリは、2つのパートで構成されます。1つはブラウザ上で動くパート、もう1つはWebサーバ上で動くパートです。Googleの検索ページやGmail、Yahoo!のホームページ、GitHubサイトなどがWebアプリの一例です。ブラウザで特定のURLを開くことにより起動します。

Webアプリは、ブラウザを介してユーザとインタラクションします。

### モバイルアプリ

AndroidやiOSなどのモバイル用OS上で動くアプリをモバイルアプリと呼びます。スマホやタブレットにダウンロードして使うアプリです。モバイルアプリは、デスクトップアプリに似てますね。

## その他の分類

別の観点でプログラムを分類することもできます。

### コンパイルされるかインタープリタか

例えばC言語やC#、Javaなどで書かれたプログラムを動かすには、まずソースファイルを「コンパイル」して、バイナリコードへ変換する必要があります。そのバイナリコードは、OSや仮想マシン上で動かします。

一方、phpやpythonなどでプログラムを書いた場合、「インタープリタ」上で、ソースファイルを直接動かすことができます。インタープリタが内部でどのようにソースコードを処理しているか、外からは分かりません。

一般的に、コンパイルされたプログラムは、インタープリタ上で実行されるプログラムよりも高速に動作します。

### ネイティブコードか仮想マシンか

C言語のプログラムをコンパイルすると、特定のCPU向けのバイナリコードへ変換されます(例えばインテル用とかARM用とか)。このバイナリコードは、そのCPU上で直接動かすことができます。CPUが直接実行できるバイナリコードのことをネイティブコードと呼びます。

一方C#やJavaの場合、コンパイラは、仮想のCPUに向けたバイナリコードを出力します。このバイナリコードは、仮想マシン上で動かします。仮想マシンは、インテルやARMのCPU上で、仮想のCPUをエミュレーションするプログラムです。

ネイティブコードは、種類の違うCPU上では動かせません。インテルとARMでは、バイナリコードに互換性が無いからです。一方、仮想CPU向けのバイナリコードは、インテルCPU上の仮想マシン上でも、ARM CPU上の仮想マシン上でも、動かすことができます。CPUの互換性が無い部分を仮想マシンが隠してくれるからです。

一般的に、ネイティブコードの方が、仮想CPU向けバイナリコードよりも高速に動作します。
